(function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.VuePerfectlooper=t():e.VuePerfectlooper=t()})(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="https://admiralpotato.github.io/vue-perfectlooper/",t(t.s=4)}([function(e,t){e.exports=function(e,t,r,n,o){var a,s=e=e||{},i=typeof e.default;"object"!==i&&"function"!==i||(a=e,s=e.default);var l="function"==typeof s?s.options:s;t&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns),n&&(l._scopeId=n);var c;if(o?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},l._ssrRegister=c):r&&(c=r),c){var u=l.functional,d=u?l.render:l.beforeCreate;u?l.render=function(e,t){return c.call(t),d(e,t)}:l.beforeCreate=d?[].concat(d,c):[c]}return{esModule:a,exports:s,options:l}}},function(e,t){function r(e,t){var r=e[1]||"",o=e[3];if(!o)return r;if(t&&"function"==typeof btoa){var a=n(o);return[r].concat(o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"})).concat([a]).join("\n")}return[r].join("\n")}function n(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=r(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(n[a]=!0)}for(o=0;o<e.length;o++){var s=e[o];"number"==typeof s[0]&&n[s[0]]||(r&&!s[2]?s[2]=r:r&&(s[2]="("+s[2]+") and ("+r+")"),t.push(s))}},t}},function(e,t,r){function n(e){for(var t=0;t<e.length;t++){var r=e[t],n=u[r.id];if(n){n.refs++;for(var o=0;o<n.parts.length;o++)n.parts[o](r.parts[o]);for(;o<r.parts.length;o++)n.parts.push(a(r.parts[o]));n.parts.length>r.parts.length&&(n.parts.length=r.parts.length)}else{for(var s=[],o=0;o<r.parts.length;o++)s.push(a(r.parts[o]));u[r.id]={id:r.id,refs:1,parts:s}}}}function o(){var e=document.createElement("style");return e.type="text/css",d.appendChild(e),e}function a(e){var t,r,n=document.querySelector('style[data-vue-ssr-id~="'+e.id+'"]');if(n){if(h)return m;n.parentNode.removeChild(n)}if(v){var a=p++;n=f||(f=o()),t=s.bind(null,n,a,!1),r=s.bind(null,n,a,!0)}else n=o(),t=i.bind(null,n),r=function(){n.parentNode.removeChild(n)};return t(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t(e=n)}else r()}}function s(e,t,r,n){var o=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=g(t,o);else{var a=document.createTextNode(o),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(a,s[t]):e.appendChild(a)}}function i(e,t){var r=t.css,n=t.media,o=t.sourceMap;if(n&&e.setAttribute("media",n),o&&(r+="\n/*# sourceURL="+o.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c=r(8),u={},d=l&&(document.head||document.getElementsByTagName("head")[0]),f=null,p=0,h=!1,m=function(){},v="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,r){h=r;var o=c(e,t);return n(o),function(t){for(var r=[],a=0;a<o.length;a++){var s=o[a],i=u[s.id];i.refs--,r.push(i)}t?(o=c(e,t),n(o)):o=[];for(var a=0;a<r.length;a++){var i=r[a];if(0===i.refs){for(var l=0;l<i.parts.length;l++)i.parts[l]();delete u[i.id]}}}};var g=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}()},function(e,t,r){"use strict";t.a={templatePad:function(e,t){var r="string"==typeof t?t:t.toString();return(e+r).substring(r.length)}}},function(e,t,r){e.exports=r(5)},function(e,t,r){function n(e){r(6)}var o=r(0),a=r(9),s=r(29),i=n,l=o(a,s,i,null,null);e.exports=l.exports},function(e,t,r){var n=r(7);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);r(2)("c9d84b8e",n,!0)},function(e,t,r){t=e.exports=r(1)(!1),t.push([e.i,'.perfectlooper,.perfectlooper *{padding:0;border:0;outline:none;vertical-align:inherit;font-size:inherit;line-height:inherit;font-weight:inherit;font-style:inherit;font-family:inherit;text-align:inherit;text-decoration:inherit;color:inherit;background-color:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none;user-drag:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline-color:#9f0}.perfectlooper.ios,.perfectlooper.ios *{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none}.perfectlooper{display:block;position:relative;background-color:#000;font-size:1rem;line-height:1.5rem;font-weight:400;font-style:normal;vertical-align:top;font-family:Exo\\ 2,sans-serif;text-align:left;text-decoration:none;color:#ccc}.perfectlooper.ios{overflow:hidden;-ms-touch-action:manipulation;touch-action:manipulation}.perfectlooper .overlay,.perfectlooper canvas,.perfectlooper img{display:block;position:absolute;width:100%;height:100%}.perfectlooper ::-moz-focus-inner{border:0}.perfectlooper.keynav :focus{outline-width:2px;outline-style:solid}.perfectlooper.keynav .fullscreenToggle.notStarted:focus{outline:none;border-radius:6px;-webkit-box-shadow:inset 0 0 0 2px #9f0;box-shadow:inset 0 0 0 2px #9f0}.perfectlooper.fullscreen{max-width:177.77777777777777vmin;height:100%;width:100%}.perfectlooper.fullscreen.keynav .overlay{outline:none}.perfectlooper.hideCursor{cursor:none}.perfectlooper-control,.perfectlooper .overlay,.perfectlooper canvas{-webkit-transform:translateZ(0);transform:translateZ(0)}.perfectlooper .hidden{opacity:0}.perfectlooper .aspectEnforcer{position:relative;height:0;padding-bottom:56.25%;width:100%}.perfectlooper.fullscreen .aspectEnforcer{-webkit-transform:translate3d(0,-50%,0);transform:translate3d(0,-50%,0);top:50%}.perfectlooper .statusMessage{position:absolute;top:0;left:0;padding:.5rem 1rem;background-color:rgba(0,0,0,.5);border-radius:0 0 1rem 0}.perfectlooper.ios .statusMessage{-webkit-transition:all .5s;transition:all .5s}.perfectlooper .statusMessage div{height:1.5rem;line-height:1.5rem;font-size:1rem}.perfectlooper svg{display:block;color:#9f0}.perfectlooper button:disabled svg{color:#666}.perfectlooper button:active svg{color:#ff0}.perfectlooper_fade-enter-active,.perfectlooper_fade-leave-active{-webkit-transition:opacity .5s;transition:opacity .5s}.perfectlooper_fade-enter,.perfectlooper_fade-leave-to{opacity:0}.perfectlooper-control{position:absolute;z-index:10;bottom:0;width:100%;opacity:1;-webkit-transition:all .5s;transition:all .5s}.perfectlooper.fullscreen .perfectlooper-control{-webkit-box-shadow:0 4px 0 0 rgba(0,0,0,.75);box-shadow:0 4px 0 0 rgba(0,0,0,.75)}.perfectlooper.iosDangerZone .perfectlooper-control{bottom:3rem}.perfectlooper.ios .perfectlooper-control:after{position:absolute;display:block;bottom:-3rem;height:3rem;line-height:3rem;width:100%;content:"iOS Safari interactivity DangerZone\\2122";color:hsla(0,0%,100%,.5);text-align:center;background-color:rgba(0,0,0,.35);opacity:0;-webkit-transition:all .5s;transition:all .5s}.perfectlooper.ios.iosDangerZone .perfectlooper-control:after{opacity:1}.perfectlooper-control .background{fill:#000;opacity:.75}.perfectlooper-control button{position:absolute;height:2.75rem;width:2.75rem;margin:.125rem;bottom:0;cursor:pointer}.perfectlooper-control .step-prev{left:0}.perfectlooper-control .playToggle{left:3rem}.perfectlooper-control .step-next{left:6rem}.perfectlooper-control .fullscreenToggle{right:0}.perfectlooper-control .fullscreenBackground{fill:#000;opacity:.25}.perfectlooper-control .fill{fill:#9f0}.perfectlooper-control .stroke{fill:none;stroke-linecap:round;stroke-miterlimit:10}.perfectlooper-control .stroke.screen-line{stroke-width:3px}.perfectlooper-control .stroke.loading{stroke-width:4px}.perfectlooper-control .playhead,.perfectlooper-control .progressLines{cursor:pointer}.perfectlooper-control .stroke.loaded,.perfectlooper-control .stroke.total{stroke:#666;stroke-width:8px;opacity:.5}.perfectlooper-control .stroke.loaded{stroke:#999}.perfectlooper-control .stroke.scaled{stroke:#9f0;stroke-width:4px}.perfectlooper-control .playhead .back{stroke:#666;stroke-width:16px;opacity:.6}.perfectlooper-control .playhead .front{stroke:#ff0;stroke-width:4px}.perfectlooper-control .currentFrameDisplay{fill:#000;-webkit-transition:opacity .25s;transition:opacity .25s}.perfectlooper-control .currentFrameDisplay text{fill:#ccc;cursor:pointer}@-webkit-keyframes rotating{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}@keyframes rotating{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.perfectlooper-control .rotating{-webkit-animation:rotating 2s linear infinite;animation:rotating 2s linear infinite}',""])},function(e,t){e.exports=function(e,t){for(var r=[],n={},o=0;o<t.length;o++){var a=t[o],s=a[0],i=a[1],l=a[2],c=a[3],u={id:e+":"+o,css:i,media:l,sourceMap:c};n[s]?n[s].parts.push(u):r.push(n[s]={id:s,parts:[u]})}return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(10),o=r(12),a=r(13),s=r.n(a),i=r(18),l=r.n(i);t.default={components:{PerfectlooperPlayIcon:s.a,PerfectlooperControl:l.a},props:{id:{type:String,required:!0},poster:{type:String,required:!1},src:{type:[String,Array],required:!1},frames:{type:[Number,String],required:!1},startIndex:{type:[Number,String],required:!1,default:1},sequenceTemplate:{type:String,default:"0000"},currentFrameTemplate:{type:String,default:"00"},prefix:{type:String,default:""},suffix:{type:String,default:".jpg"},srcImgurAlbumId:{type:String,required:!1}},data:function(){return{keynav:!1,width:0,height:0,cssWidth:0,cssHeight:0,pathsLoaded:!1,currentFrameIndex:0,lastUserAction:"",posterPath:"",started:!1,playing:!1,isFullscreen:!1,activityHalted:!0,loaded:0,scaled:0,playOffset:0,ready:!1,statusMessage:"",isIOS:!1,isIOSWarnNeeded:!1}},created:function(){var e=this;o.a.get(e,function(t,r){if(!t)throw new Error("vue-perfectlooper: No valid combinations of paths provided. Please supply one of the following combinations:\n\t{src: String, frames: Number}\n\t{src: Array of Strings}\n\t{srcImgurAlbumId: String}");if(!r)throw new Error("vue-perfectlooper: No valid combinations of poster options provided. Please add a valid poster image path:\n\t{poster: String}");e.pathList=t,e.posterPath=r,e.pathsLoaded=!0,e.makeLooper()},function(t){e.posterPath=t})},mounted:function(){r(28);var e=this;e.isMounted=!0,e.makeLooper()},beforeMount:function(){var e=this;e.resizeWindowEventHandler=function(){var t=window.devicePixelRatio||1,r=e.$refs.canvas,n=r.clientWidth*t,o=r.clientHeight*t,a=!n||!o,s=e.width!==n||e.height!==o,i=document.fullscreenElement===e.$el,l=e.isFullscreen!==i;e.cssWidth=r.clientWidth,e.cssHeight=r.clientHeight,e.width=n,e.height=o,e.isFullscreen=i,(a||s)&&requestAnimationFrame(e.resizeWindowEventHandler),!a&&s&&requestAnimationFrame(function(){e.playing&&(e.playToggle(),requestAnimationFrame(function(){e.playToggle()})),l?requestAnimationFrame(function(){e.canvasLooper&&e.canvasLooper.sizeWindow(n,o)}):e.canvasLooper&&e.canvasLooper.sizeWindow(n,o)})},e.fullscreenFocusChangeHandler=function(t){var r=e.$el.compareDocumentPosition(t.target),n=(r&Node.DOCUMENT_POSITION_CONTAINED_BY)>0;if(e.isFullscreen&&!n){var o=(r&Node.DOCUMENT_POSITION_PRECEDING)>0,a=(r&Node.DOCUMENT_POSITION_FOLLOWING)>0,s=o?".lastFocus":a?".firstFocus":null,i=s?e.$el.querySelector(s):null;i&&i.focus()}},e.preFocusKeydownListener=function(t){e.enableFocusOutlines(t)},document.addEventListener("resize",e.resizeWindowEventHandler),document.addEventListener("fullscreenchange",e.resizeWindowEventHandler),window.addEventListener("resize",e.resizeWindowEventHandler),document.body.addEventListener("focus",e.fullscreenFocusChangeHandler,!0),document.body.addEventListener("keydown",e.preFocusKeydownListener,!0),e.isIOS=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,e.isIOS&&(e.scrollWarningWatcher=function(){if(e.isMounted){requestAnimationFrame(e.scrollWarningWatcher);var t=e.$el.getBoundingClientRect(),r=e.$el.querySelector("button"),n=r?r.clientHeight:0,o=t.height,a=t.bottom;e.isIOSWarnNeeded=a>=o-n&&a<=o+n}},requestAnimationFrame(e.scrollWarningWatcher))},beforeDestroy:function(){var e=this;e.canvasLooper&&e.canvasLooper.die(),document.removeEventListener("resize",e.resizeWindowEventHandler),document.removeEventListener("fullscreenchange",e.resizeWindowEventHandler),window.removeEventListener("resize",e.resizeWindowEventHandler),document.body.removeEventListener("focus",e.fullscreenFocusChangeHandler,!0),document.body.removeEventListener("keydown",e.preFocusKeydownListener,!0),e.isIOS&&(e.isMounted=!1)},methods:{makeLooper:function(){var e=this;e.isMounted&&e.pathsLoaded&&(e.canvasLooper=new n.a(e.id,e.pathList,e,e.$refs.canvas),e.resizeWindowEventHandler())},looperStatusUpdate:function(e){var t=this;for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},looperEvent:function(e){var t=this;this.$ga&&(e.eventCategory="Video",e.eventLabel=t.id,this.$ga.event(e))},disableFocusOutlines:function(){this.keynav=!1},enableFocusOutlines:function(e){-1!==[9,13].indexOf(e.keyCode)&&(this.keynav=!0)},activity:function(){var e=this;e.activityHalted=!1,e.activityTimeoutId&&clearTimeout(e.activityTimeoutId),e.activityTimeoutId=setTimeout(function(){e.activityHalted=!0,e.activityTimeoutId=null},2e3)},playToggle:function(e){var t=this;t.started=!0,t.playing=!t.playing,t.lastUserAction=(t.playing?"play":"pause")+"-"+(t.isFullscreen?"fullscreen":"windowed"),t.canvasLooper&&t.canvasLooper.setPlay(t.playing),t.looperEvent({eventAction:t.lastUserAction})},step:function(e){var t=this;1===t.loaded&&t.canvasLooper&&(t.started||t.playToggle(),t.playing=!1,t.canvasLooper.setPlay(!1),t.canvasLooper.step(e),t.lastUserAction="step")},scrub:function(e){var t=this;if(1===t.loaded){var r=Math.max(0,e-1e-9);t.playing=!1,t.canvasLooper&&(t.canvasLooper.setPlay(!1),t.canvasLooper.setTime(r),t.canvasLooper.setFrameByTime()),t.lastUserAction="scrub"}},fullscreenToggle:function(){var e=this,t=void 0!==e.$el.requestFullscreen;e.activity();var r=void 0;t?e.isFullscreen?document.exitFullscreen&&(document.exitFullscreen(),r="exitFullscreen"):(e.$el.requestFullscreen(),r="requestFullscreen"):(e.$el.scrollIntoView(),r="scrollIntoView"),e.lastUserAction="fullscreen-"+r,e.looperEvent({eventAction:e.lastUserAction})},focusHandler:function(e){e.stopPropagation(),this.activity(),this.focusElement=e.target},blurHandler:function(e){e.stopPropagation(),this.focusElement=void 0},leftHandler:function(e){e.preventDefault(),this.step(-1)},rightHandler:function(e){e.preventDefault(),this.step(1)},spaceHandler:function(e){!(this.focusElement&&"BUTTON"===this.focusElement.tagName)&&(e.preventDefault(),this.playToggle())}}}},function(e,t,r){"use strict";var n=r(11),o=function(e,t,r,n){var o=this;o.ui=r,o.canvas=n,o.context=n.getContext("2d"),o.shouldPlay=!1,o.scaledCanvasList=[],o.lastDisplayedImage=null,o.lastDisplayedIndex=0,o.scaledFrameCount=0,o.scaled=0,o.ready=!1,o.playOffset=0,o.prevFrame=0,o.sourceBuffer=s[e]||new i(e,t),o.frameCount=t.length,o.duration=o.frameCount/o.fps,o.sourceBuffer.addCanvasLooper(o),o.renderLoop=function(e){o.shouldPlay&&(requestAnimationFrame(o.renderLoop),o.ready&&o.play(e))}};o.prototype={fps:24,die:function(){var e=this;e.sourceBuffer.removeCanvasLooper(this),e.scaledCanvasList.forEach(function(e){e.width=0,e.height=0}),e.scaledCanvasList=[],e.shouldPlay=!1,e.ui.looperEvent({eventAction:"unload"})},setPlay:function(e){var t=this;t.shouldPlay=e,e?(requestAnimationFrame(function(e){t.lastTimeSample=e,t.renderLoop(e)}),t.sourceBuffer.startLoad()):t.sourceBuffer.stopLoad(),t.updateUI()},play:function(e){var t=this;t.offsetTime((e-(t.lastTimeSample||0))/1e3/t.duration),t.setFrameByTime(),t.lastTimeSample=e},offsetTime:function(e){this.setTime(this.playOffset+e)},setTime:function(e){this.playOffset=this.rangeBind(e,1)},rangeBind:function(e,t){return-1===Math.sign(e)?t+e%t:e%t},step:function(e){var t=this,r=t.rangeBind(t.prevFrame+e,t.frameCount);t.offsetTime(1/t.frameCount*e),t.setFrameByIndex(r)},setFrameByTime:function(){var e=this,t=Math.floor(e.playOffset*e.frameCount);t!==e.prevFrame&&e.setFrameByIndex(t)},setFrameByIndex:function(e){var t=this;t.lastDisplayedImage=t.getScaledCanvasByFrameIndex(e),t.context.drawImage(t.lastDisplayedImage,0,0),t.prevFrame=e,t.ui.looperStatusUpdate({currentFrameIndex:e,playOffset:e/(t.frameCount-1)})},getScaledCanvasByFrameIndex:function(e){var t=this,r=t.scaledCanvasList,n=r[e]||document.createElement("canvas");if(!r[e]||n.width!==t.width||n.height!==t.height){var o=t.sourceBuffer.imageList[e],a=n.getContext("2d");n.width=t.width,n.height=t.height,a.imageSmoothingQuality="high",a.drawImage(o,0,0,t.width,t.height),r[e]||(r[e]=n)}return n},sizeWindow:function(e,t){var r=this;r.width=e,r.height=t,r.scaledFrameCount=0,r.scaled=0,r.ready=!1,r.updateUI()},scaleAllFramesAndReady:function(){var e=this,t=e.scaledFrameCount++;t||e.ui.looperEvent({eventAction:"scale-start",eventValue:e.width}),e.context.drawImage(e.getScaledCanvasByFrameIndex(t),0,0),e.scaled=e.scaledFrameCount/e.frameCount,setTimeout(function(){var t=void 0;e.scaledFrameCount===e.frameCount&&(e.ready=!0,t={eventAction:"scale-finish",eventValue:e.width}),e.updateUI(t)},0)},updateUI:function(e){var t=this,r=t.sourceBuffer,n=r.status,o=t.whichFrameShouldBeDisplayedOnUpdate();r.ready&&!t.ready&&(t.scaledFrameCount&&(n="Scaled "+t.scaledFrameCount+"/"+r.frameCount+" frames"),t.shouldPlay&&t.scaleAllFramesAndReady()),t.ready&&(n="Ready"),null!==o&&(t.lastDisplayedImage=t.getScaledCanvasByFrameIndex(o)),t.lastDisplayedImage&&t.context.drawImage(t.lastDisplayedImage,0,0),e&&t.ui.looperEvent(e),t.ui.looperStatusUpdate({statusMessage:n,loaded:r.loaded,scaled:t.scaled,ready:t.ready})},whichFrameShouldBeDisplayedOnUpdate:function(){var e=this,t=e.sourceBuffer,r=t.lastStoredFrameIndex;return t.ready&&(r=!e.shouldPlay||e.ready?e.prevFrame:Math.max(0,e.scaledFrameCount-1)),r}};var a=function(e,t){var r=e.indexOf(t);return-1!==r&&e.splice(r,1),e},s={},i=function(e,t){var r=this;r.pathList=t,r.frameCount=t.length,r.isLoading=!1,r.totalSize=0,r.loaded=0,r.ready=!1,r.status="Not loaded",r.imageList=[],r.perfectlooperList=[],r.framesLoaded=0,r.lastStoredFrameIndex=null,r.decoder=new n.a(r),s[e]=r};i.prototype={addCanvasLooper:function(e){this.perfectlooperList.push(e),this.updateCanvasLoopers()},removeCanvasLooper:function(e){a(this.perfectlooperList,e)},updateCanvasLoopers:function(e){this.perfectlooperList.forEach(function(t){t.updateUI(e)})},startLoad:function(){var e=this;if(!e.isLoading&&1!==e.loaded){e.status="Loading",e.isLoading=!0,e.decoder.startLoad(e.pathList);var t={eventAction:"load-start",eventValue:e.framesLoaded};this.updateCanvasLoopers(t)}},stopLoad:function(){var e=this;if(1!==e.loaded){e.status="Loading paused",e.isLoading=!1,e.decoder.stopLoad();var t={eventAction:"load-stop",eventValue:e.framesLoaded};this.updateCanvasLoopers(t)}},handleDecoderLoadStart:function(){this.status="Loading started",this.updateCanvasLoopers()},handleDecoderFrame:function(e,t){var r=this,n=void 0;r.framesLoaded+=1,r.imageList[t]=e,r.loaded=r.framesLoaded/r.frameCount,r.lastStoredFrameIndex=t,r.status="Loaded "+r.framesLoaded+" / "+r.frameCount+" frames",1===r.loaded&&(r.status="All frames Loaded",r.ready=!0,r.decoder=null,n={eventAction:"load-finish"}),this.updateCanvasLoopers(n)}},t.a=o},function(e,t,r){"use strict";var n=function(e){var t=this;t.decodedFrameBuffer=e,t.frameCount=t.decodedFrameBuffer.frameCount,t.framesLoaded=0,t.images=[],t.loadHandler=function(e){var r=e.target;r.loaded=!0,t.framesLoaded+=1,requestAnimationFrame(function(){t.decodedFrameBuffer.handleDecoderFrame(r,r.frameIndex)})},t.errorHandler=function(e){var r=e.target;r.loadAttemtps<t.maxFailures&&setTimeout(function(){r.retry(r.loadAttemtps+1)},100)}};n.prototype={maxFailures:10,startLoad:function(e){var t=this;t.decodedFrameBuffer.handleDecoderLoadStart(),e.forEach(function(e,r){var n=t.images[r],o=n&&!n.loaded&&n.canceled;if(n)o&&n.retry(0);else{(function n(o){var a=new Image;a.frameIndex=r,a.loaded=!1,a.retry=n,a.loadAttemtps=o,t.images[r]=a,a.addEventListener("load",t.loadHandler),a.addEventListener("error",t.errorHandler),a.src=e})(0)}})},stopLoad:function(){var e=this;e.images.forEach(function(t){t.loaded||(t.canceled=!0,t.removeEventListener("load",e.loadHandler),t.removeEventListener("error",e.errorHandler),t.src="")})}},t.a=n},function(e,t,r){"use strict";var n=r(3),o={get:function(e,t,r){var n=this.methods.failure;"string"==typeof e.src?n=this.methods.orderedPathSequence:e.src instanceof Array?n=this.methods.explicitPathSequence:e.srcImgurAlbumId&&(n=this.methods.imgurAlbumId),n(e,t,r)},methods:{failure:function(e,t){t()},orderedPathSequence:function(e,t){var r=parseInt(e.frames,10),o=parseInt(e.startIndex,10);if(!(r>0))throw new Error("vue-perfectlooper: If you specify the 'src' prop as a String, you -must- provide a greater than zero 'frames' prop.\n\t\t\t\t\t\tInputs given; src: "+e.src+" - frames: "+e.frames);for(var a="/"!==e.src[e.src.length-1]?e.src+"/":e.src,s=[],i=0;i<r;i++){var l=n.a.templatePad(e.sequenceTemplate,i+o);s.push(a+e.prefix+l+e.suffix)}t(s,e.poster)},imgurAlbumId:function(e,t,r){var n=e.srcImgurAlbumId,o="https://imgur-api-readonly.glitch.me/album/"+n,a=new XMLHttpRequest,s=function(e){console.error("Could not load: "+o),console.log(e),t()};a.responseType="json",a.addEventListener("load",function(r){if(r.target.status>=400)s(r);else{var n=r.target.response,o=n.data.images.map(function(t){return"https://i.imgur.com/"+(t.id+e.suffix)});t(o,e.poster||"https://i.imgur.com/"+n.data.cover+".jpg")}}),a.addEventListener("error",s),a.open("GET",o,!0),a.send(),e.poster&&r(e.poster)},explicitPathSequence:function(e,t){t(e.src,e.poster)}}};t.a=o},function(e,t,r){function n(e){r(14)}var o=r(0),a=r(16),s=r(17),i=n,l=o(a,s,i,null,null);e.exports=l.exports},function(e,t,r){var n=r(15);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);r(2)("dfa1d1c2",n,!0)},function(e,t,r){t=e.exports=r(1)(!1),t.push([e.i,'.perfectlooper-play-icon{display:block;position:absolute;z-index:1;top:0;bottom:0;left:0;right:0;height:50%;min-height:6rem;width:auto;margin:auto}.perfectlooper-play-icon .munsell-rainbow{height:128px;width:128px;background-color:#9f0;background-size:cover;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgpJREFUeNo0Uj1v1UAQnL3b89lOyAtR3pMgEkgpoKOBmpL/QMeP4ndQUFJBE9FBhUQBTRSJ6D0FYuOPd/bdsesI62TJ65nZ2Z2jzfvXp/73o2p7Xm2fVLvH3K8zDhLKjFXCQYDpQA3QInfAAG6nFREKMx3Y/anrNjzOlDJAAMs7goLi9IzADB7jUQxWEM7EFQ8b15/yIJ+WYBNMAInwog1hRnBOhyG7mywAVCasi/bMjieUTQLPC7pdCHuVx0yMXIv6HHk3MiEfu/68aB+YgbPK43Y5YmYiTAZ7Kz5L5ALZx+yvh+IL0blvn9774TJIoDdAL/IGg0PPGJgVDR0B8DmVl53/sIvPq+2z0Jgr5GuDvwVaj9ahcxi1g4U+WVlCy+W35ujdVXj19VN14fKuRldgZDGjlmYjBLNAaWERUoV08vHzm4u3L19sv5vFh9UJIikuMaJZ0AZJiozgMHi+PPoZjs9Q1fjFan+0CCT6mFk5yeiJIiStHRpfd2jK4s/tQ8ElNDNKq+iwEKaFINrzHUEt1APaAg2OD7EWMQkia5K8ELSJVbRITKJo7WDqPXqfW+v6eF9KsnULiZ8k+kVYzMgk2kH+Gj+Sn2SW3DrTx9phRRqyTKmXaSEk878DYU/lCBe10Lncj+xRW6mqDeWwrktnuNuB5A8fwElbDhIAUciFk1umTaIs/p8AAwB/xAkhRHHGzAAAAABJRU5ErkJggg==")}',""])},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=0;t.default={data:function(){return{unique:n++}}}},function(e,t){var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{staticClass:"perfectlooper-play-icon",attrs:{viewBox:"0 0 128 128"}},[r("defs",[r("filter",{attrs:{id:"blur-"+e.unique}},[r("feGaussianBlur",{attrs:{in:"SourceGraphic",stdDeviation:"2"}})],1),e._v(" "),r("path",{attrs:{id:"background-path-"+e.unique,d:"M64,18a46,46,0,1,0,46,46A46.05239,46.05239,0,0,0,64,18ZM52.00049,90.79395A6.02286,6.02286,0,0,1,46,84.78418V43.21533a6,6,0,0,1,9-5.1958L91,58.8042a5.99981,5.99981,0,0,1,0,10.39209L55,89.98145A5.98645,5.98645,0,0,1,52.00049,90.79395Z"}}),e._v(" "),r("clipPath",{attrs:{id:"background-mask-"+e.unique}},[r("use",{attrs:{"xlink:href":"#background-path-"+e.unique}})]),e._v(" "),r("clipPath",{attrs:{id:"stroke-mask-"+e.unique}},[r("path",{attrs:{d:"M64,16a48,48,0,1,0,48,48A48,48,0,0,0,64,16Zm0,92a44,44,0,1,1,44-44A44.04979,44.04979,0,0,1,64,108ZM92,57.07227,56,36.2876a8,8,0,0,0-12,6.92773V84.78418a7.98345,7.98345,0,0,0,12,6.92871L91.999,70.92871A7.99955,7.99955,0,0,0,92,57.07227ZM90,67.46411,54,88.24872a4,4,0,0,1-6-3.46411V43.21539a4,4,0,0,1,6-3.46411L90,60.53589A4,4,0,0,1,90,67.46411Z"}})])]),e._v(" "),r("g",{attrs:{"clip-path":"url(#background-mask-"+e.unique+")",opacity:"0.5"}},[r("foreignObject",{attrs:{width:"128",height:"128",filter:"url(#blur-"+e.unique+")"}},[r("div",{staticClass:"munsell-rainbow"})])],1),e._v(" "),r("use",{attrs:{"xlink:href":"#background-path-"+e.unique,filter:"url(#blur-"+e.unique+")","stroke-width":"6",stroke:"rgba(0,0,0,0.5)",fill:"none"}}),e._v(" "),r("g",{attrs:{"clip-path":"url(#stroke-mask-"+e.unique+")"}},[r("foreignObject",{attrs:{width:"128",height:"128",filter:"url(#blur-"+e.unique+")"}},[r("div",{staticClass:"munsell-rainbow"})])],1)])},n=[];e.exports={render:r,staticRenderFns:n}},function(e,t,r){var n=r(0),o=r(19),a=r(27),s=n(o,a,null,null,null);e.exports=s.exports},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(20),o=r.n(n),a=r(24),s=r.n(a);t.default={components:{PerfectlooperControlBar:o.a,PerfectlooperControlButton:s.a},props:{started:Boolean,playing:Boolean,ready:Boolean,isFullscreen:Boolean,loaded:Number,scaled:Number,width:Number,playOffset:Number,startIndex:Number,currentFrameIndex:Number,currentFrameTemplate:String,lastUserAction:String,playToggle:Function,step:Function,scrub:Function,fullscreenToggle:Function}}},function(e,t,r){var n=r(0),o=r(21),a=r(23),s=n(o,a,null,null,null);e.exports=s.exports},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(22),o=r(3);t.default={mixins:[n.a],props:{loaded:Number,scaled:Number,width:Number,playOffset:Number,startIndex:Number,currentFrameIndex:Number,currentFrameTemplate:String,lastUserAction:String,scrub:Function},created:function(){var e=this;e.padLeft=160,e.padRight=64,e.handleMouseDown=function(t){e.offsetTimeByMouseEvent(t),e.isDragging=!0},e.handleMouseMove=function(t){e.isDragging&&e.offsetTimeByMouseEvent(t)},e.handleMouseUp=function(t){e.isDragging&&(e.offsetTimeByMouseEvent(t),e.isDragging=!1)}},mounted:function(){document.body.addEventListener("mousemove",this.handleMouseMove,!0),document.body.addEventListener("mouseup",this.handleMouseUp,!0)},beforeDestroy:function(){document.body.removeEventListener("mousemove",this.handleMouseMove,!0),document.body.removeEventListener("mouseup",this.handleMouseUp,!0)},computed:{lineWidth:function(){return this.width-(this.padLeft+this.padRight)},showCurrentFrameDisplay:function(){return-1!==["step","scrub"].indexOf(this.lastUserAction)},currentFrameDisplay:function(){var e=this.currentFrameIndex+this.startIndex;return this.currentFrameTemplate?o.a.templatePad(this.currentFrameTemplate,e):e}},methods:{lineFrac:function(e){return this.padLeft+this.lineWidth*e},offsetTimeByMouseEvent:function(e){var t=this.$el.getBoundingClientRect(),r=this.mapPointToPlayOffset(e.clientX-t.left);e.preventDefault(),this.scrub(r)},dragStart:function(e,t){this.offsetTimeByPoint(e,t)},dragMove:function(e,t){this.offsetTimeByPoint(e,t)},dragEnd:function(e,t){this.offsetTimeByPoint(e,t)},offsetTimeByPoint:function(e,t){var r=this.mapPointToPlayOffset(e.x);t.preventDefault(),this.scrub(r)},mapPointToPlayOffset:function(e){return Math.max(0,Math.min(1,(e-this.padLeft)/this.lineWidth))}}}},function(e,t,r){"use strict";var n={created:function(){var e=this;e.startPoint=null,e.handleTouchStart=e.createTouchHandler("Start"),e.handleTouchMove=e.createTouchHandler("Move"),e.handleTouchEnd=e.createTouchHandler("End")},methods:{getPointByTouch:function(e){var t=this,r=e.changedTouches,n=null,o=null,a=null===t.startPoint;if(a)n=r[0];else for(var s=0;s<r.length;s++){var i=r[s];if(i.identifier===t.startPoint.id){n=i;break}}if(n){var l=event.currentTarget.getBoundingClientRect();o={x:n.clientX-l.left,y:n.clientY-l.top,id:n.identifier},a&&(t.startPoint=o)}return o},createTouchHandler:function(e){var t=this;return function(r){var n=t.getPointByTouch(r);n&&(t["drag"+e](n,r),"End"===e&&(t.startPoint=null))}}}};t.a=n},function(e,t){var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("svg",{attrs:{viewBox:"0 -32 "+e.width+" 80"}},[r("g",{on:{mousedown:e.handleMouseDown,touhstart:e.handleTouchStart,touchmove:e.handleTouchMove,touchend:e.handleTouchEnd}},[r("rect",{staticClass:"background",attrs:{width:e.width,height:"48"}}),e._v(" "),r("g",{staticClass:"progressLines"},[r("line",{staticClass:"stroke total",attrs:{x1:e.padLeft,y1:"24",x2:e.lineFrac(1),y2:"24"}}),e._v(" "),r("line",{staticClass:"stroke loaded",attrs:{x1:e.padLeft,y1:"24",x2:e.lineFrac(e.loaded),y2:"24"}}),e._v(" "),r("line",{staticClass:"stroke scaled",attrs:{x1:e.padLeft,y1:"24",x2:e.lineFrac(e.scaled),y2:"24"}})]),e._v(" "),r("g",{staticClass:"playhead",attrs:{transform:"translate("+e.lineFrac(e.playOffset)+", 0)"}},[r("line",{staticClass:"stroke back",attrs:{x1:"0",y1:"22",x2:"0",y2:"26"}}),e._v(" "),r("line",{staticClass:"stroke front",attrs:{x1:"0",y1:"14",x2:"0",y2:"34"}})]),e._v(" "),r("g",{staticClass:"currentFrameDisplay",class:{hidden:!e.showCurrentFrameDisplay},attrs:{transform:"translate("+e.lineFrac(e.playOffset)+", -18)"}},[r("g",{attrs:{opacity:"0.75"}},[r("rect",{attrs:{width:"40",height:"24",x:"-20",y:"-12",rx:"12",ry:"12"}}),e._v(" "),r("rect",{attrs:{width:"12",height:"12",transform:"rotate(45)"}})]),e._v(" "),r("text",{staticClass:"fill noSelect",attrs:{x:"0",y:"1.5","font-size":"16","text-anchor":"middle","dominant-baseline":"middle"}},[e._v(e._s(e.currentFrameDisplay))])])])])},n=[];e.exports={render:r,staticRenderFns:n}},function(e,t,r){var n=r(0),o=r(25),a=r(26),s=n(o,a,null,null,null);e.exports=s.exports},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{label:String}}},function(e,t){var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{attrs:{title:e.label,alt:e.label}},[r("svg",{attrs:{viewBox:"2 2 44 44"}},[e._t("default"),e._v(" "),r("use",{attrs:{"xlink:href":"#button-click-mask"}})],2)])},n=[];e.exports={render:r,staticRenderFns:n}},function(e,t){var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"perfectlooper-control"},[r("svg",{staticClass:"perfectlooper-control-defs",staticStyle:{display:"none"}},[r("defs",[r("path",{staticClass:"stroke screen-line",attrs:{id:"screen-line",stroke:"currentColor",d:"M3.5,3.5l5,5"}}),e._v(" "),r("path",{attrs:{id:"full-triangle",fill:"currentColor",d:"M10,9V4.41421a1,1,0,0,0-1.70711-.70711L3.70711,8.29289A1,1,0,0,0,4.41421,10H9A1,1,0,0,0,10,9Z"}}),e._v(" "),r("path",{attrs:{id:"exit-triangle",fill:"currentColor",d:"M8.29289,3.70711,3.70711,8.29289A1,1,0,0,1,2,7.58579V3A1,1,0,0,1,3,2H7.58579A1,1,0,0,1,8.29289,3.70711Z"}}),e._v(" "),r("g",{attrs:{id:"full-corner"}},[r("use",{attrs:{"xlink:href":"#screen-line"}}),e._v(" "),r("use",{attrs:{"xlink:href":"#full-triangle"}})]),e._v(" "),r("g",{attrs:{id:"exit-corner"}},[r("use",{attrs:{"xlink:href":"#screen-line"}}),e._v(" "),r("use",{attrs:{"xlink:href":"#exit-triangle"}})]),e._v(" "),r("g",{attrs:{id:"icon-fullscreen"}},[r("g",{attrs:{transform:"translate(24, 24)"}},[r("use",{attrs:{"xlink:href":"#full-corner",transform:"rotate(  0)"}}),e._v(" "),r("use",{attrs:{"xlink:href":"#full-corner",transform:"rotate( 90)"}}),e._v(" "),r("use",{attrs:{"xlink:href":"#full-corner",transform:"rotate(180)"}}),e._v(" "),r("use",{attrs:{"xlink:href":"#full-corner",transform:"rotate(-90)"}})])]),e._v(" "),r("g",{attrs:{id:"icon-fullscreen-exit"}},[r("g",{attrs:{transform:"translate(24, 24)"}},[r("use",{attrs:{"xlink:href":"#exit-corner",transform:"rotate(  0)"}}),e._v(" "),r("use",{attrs:{"xlink:href":"#exit-corner",transform:"rotate( 90)"}}),e._v(" "),r("use",{attrs:{"xlink:href":"#exit-corner",transform:"rotate(180)"}}),e._v(" "),r("use",{attrs:{"xlink:href":"#exit-corner",transform:"rotate(-90)"}})])]),e._v(" "),r("path",{attrs:{id:"icon-play",fill:"currentColor",d:"M17,15.33975V32.66025a2,2,0,0,0,3,1.73205l15-8.66025a2,2,0,0,0,0-3.4641L20,13.6077A2,2,0,0,0,17,15.33975Z"}}),e._v(" "),r("g",{attrs:{id:"icon-loading"}},[r("path",{attrs:{fill:"currentColor",d:"M28.56066,26.56066l4.37868,4.37868a1.5,1.5,0,0,0,2.12132,0l4.37868-4.37868A1.5,1.5,0,0,0,38.37868,24H29.62132A1.5,1.5,0,0,0,28.56066,26.56066Z"}}),e._v(" "),r("path",{staticClass:"stroke loading",attrs:{stroke:"currentColor",d:"M24,34A10,10,0,1,1,34,24"}})]),e._v(" "),r("path",{attrs:{id:"icon-pause",fill:"currentColor",d:"M19,34H17a2,2,0,0,1-2-2V16a2,2,0,0,1,2-2h2a2,2,0,0,1,2,2V32A2,2,0,0,1,19,34Zm12,0H29a2,2,0,0,1-2-2V16a2,2,0,0,1,2-2h2a2,2,0,0,1,2,2V32A2,2,0,0,1,31,34Z"}}),e._v(" "),r("path",{attrs:{id:"icon-advance",fill:"currentColor",d:"M26.125,16.85529l9,5.19615a2.25,2.25,0,0,1,0,3.89711l-9,5.19615a2.25,2.25,0,0,1-3.375-1.94856V18.80385A2.25,2.25,0,0,1,26.125,16.85529ZM17.75,29.5v-11a2,2,0,0,0-2-2h-.5a2,2,0,0,0-2,2v11a2,2,0,0,0,2,2h.5A2,2,0,0,0,17.75,29.5Z"}}),e._v(" "),r("rect",{attrs:{id:"button-click-mask",opacity:"0",x:"2",y:"2",width:"44",height:"44"}})])]),e._v(" "),e.started?r("div",[r("perfectlooper-control-bar",{attrs:{loaded:e.loaded,scaled:e.scaled,width:e.width,playOffset:e.playOffset,startIndex:e.startIndex,currentFrameIndex:e.currentFrameIndex,currentFrameTemplate:e.currentFrameTemplate,lastUserAction:e.lastUserAction,scrub:e.scrub}}),e._v(" "),r("perfectlooper-control-button",{staticClass:"step-prev",attrs:{label:"Step 1 frame backward",disabled:1!==e.loaded},nativeOn:{click:function(t){e.step(-1)}}},[r("g",{attrs:{transform:"translate(24, 24)"}},[r("g",{attrs:{transform:"rotate(180)"}},[r("g",{attrs:{transform:"translate(-24, -24)"}},[r("use",{attrs:{"xlink:href":"#icon-advance"}})])])])]),e._v(" "),r("perfectlooper-control-button",{staticClass:"playToggle",attrs:{label:e.playing?"Pause":"Play"},nativeOn:{click:function(t){e.playToggle(t)}}},[e.playing?e._e():r("use",{key:"play",attrs:{"xlink:href":"#icon-play"}}),e._v(" "),e.playing&&e.ready?r("use",{key:"pause",attrs:{"xlink:href":"#icon-pause"}}):e._e(),e._v(" "),!e.ready&&e.started&&e.playing?r("g",{key:"loading",attrs:{transform:"translate(24, 24)"}},[r("g",{staticClass:"rotating"},[r("g",{attrs:{transform:"translate(-24, -24)"}},[r("use",{attrs:{"xlink:href":"#icon-loading"}})])])]):e._e()]),e._v(" "),r("perfectlooper-control-button",{staticClass:"step-next",attrs:{label:"Step 1 frame forward",disabled:1!==e.loaded},nativeOn:{click:function(t){e.step(1)}}},[r("use",{attrs:{"xlink:href":"#icon-advance"}})])],1):e._e(),e._v(" "),r("perfectlooper-control-button",{staticClass:"fullscreenToggle lastFocus",class:{notStarted:!e.started},attrs:{label:"Toggle Fullscreen"},nativeOn:{click:function(t){e.fullscreenToggle(t)}}},[e.started?e._e():r("rect",{staticClass:"fullscreenBackground",attrs:{x:"4",y:"4",width:"40",height:"40",rx:"4",ry:"4"}}),e._v(" "),e.isFullscreen?e._e():r("use",{key:"off",attrs:{"xlink:href":"#icon-fullscreen"}}),e._v(" "),e.isFullscreen?r("use",{key:"on",attrs:{"xlink:href":"#icon-fullscreen-exit"}}):e._e()])],1)},n=[];e.exports={render:r,staticRenderFns:n}},function(e,t){!function(e){"use strict";function t(t,r){var n=e.createEvent("Event");n.initEvent(t,!0,!1),r.dispatchEvent(n)}function r(r){r.stopPropagation(),r.stopImmediatePropagation(),e[l.enabled]=e[a.enabled],e[l.element]=e[a.element],t(l.events.change,r.target)}function n(e){t(l.events.error,e.target)}function o(t){return function(r,n){function o(){r(),e.removeEventListener(a.events.change,o,!1)}function s(){n(new TypeError),e.removeEventListener(a.events.error,s,!1)}return t!==l.exit||e[a.element]?(e.addEventListener(a.events.change,o,!1),void e.addEventListener(a.events.error,s,!1)):void setTimeout(function(){n(new TypeError)},1)}}var a,s,i={w3:{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",events:{change:"fullscreenchange",error:"fullscreenerror"}},webkit:{enabled:"webkitFullscreenEnabled",element:"webkitCurrentFullScreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",events:{change:"webkitfullscreenchange",error:"webkitfullscreenerror"}},moz:{enabled:"mozFullScreenEnabled",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",events:{change:"mozfullscreenchange",error:"mozfullscreenerror"}},ms:{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",events:{change:"MSFullscreenChange",error:"MSFullscreenError"}}},l=i.w3;for(s in i)if(i[s].enabled in e){a=i[s];break}l.enabled in e||!a||(e.addEventListener(a.events.change,r,!1),e.addEventListener(a.events.error,n,!1),e[l.enabled]=e[a.enabled],e[l.element]=e[a.element],e[l.exit]=function(){var t=e[a.exit]();return!t&&Promise?new Promise(o(l.exit)):t},Element.prototype[l.request]=function(){var e=this[a.request].apply(this,arguments);return!e&&Promise?new Promise(o(l.request)):e})}(document)},function(e,t){var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"perfectlooper",class:{keynav:e.keynav,fullscreen:e.isFullscreen,hideCursor:e.playing&&e.activityHalted,ios:e.isIOS,iosDangerZone:e.isIOSWarnNeeded},on:{mousedown:e.disableFocusOutlines,mousemove:e.activity,touchmove:e.activity,touchstart:function(t){e.activity(),e.disableFocusOutlines()},"!focus":function(t){e.focusHandler(t)},"!blur":function(t){e.blurHandler(t)},"!keydown":[function(t){e.enableFocusOutlines(t)},function(t){return"button"in t||!e._k(t.keyCode,"left",37)?"button"in t&&0!==t.button?null:void e.leftHandler(t):null},function(t){return"button"in t||!e._k(t.keyCode,"right",39)?"button"in t&&2!==t.button?null:void e.rightHandler(t):null},function(t){if(!("button"in t)&&e._k(t.keyCode,"space",32))return null;e.spaceHandler(t)}]}},[r("div",{staticClass:"aspectEnforcer"},[r("canvas",{ref:"canvas",attrs:{width:e.width,height:e.height}}),e._v(" "),r("div",{staticClass:"overlay firstFocus",attrs:{tabindex:"0",role:"button"},on:{click:e.playToggle,keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13))return null;e.playToggle(t)}}},[r("transition-group",{attrs:{name:"perfectlooper_fade"}},[!e.loaded&&e.posterPath?r("img",{key:"a",attrs:{src:e.posterPath}}):e._e(),e._v(" "),!e.ready&&e.started?r("div",{key:"b",staticClass:"statusMessage"},[r("div",[e._v(e._s(e.statusMessage))])]):e._e(),e._v(" "),e.started?e._e():r("perfectlooper-play-icon",{key:"c"})],1)],1),e._v(" "),r("perfectlooper-control",{class:{hidden:!(!e.ready||!e.playing||!e.activityHalted)},attrs:{width:e.cssWidth,started:e.started,playing:e.playing,isFullscreen:e.isFullscreen,loaded:e.loaded,scaled:e.scaled,ready:e.ready,playOffset:e.playOffset,startIndex:e.startIndex,currentFrameIndex:e.currentFrameIndex,currentFrameTemplate:e.currentFrameTemplate,lastUserAction:e.lastUserAction,playToggle:e.playToggle,step:e.step,scrub:e.scrub,fullscreenToggle:e.fullscreenToggle}})],1)])},n=[];e.exports={render:r,staticRenderFns:n}}])});